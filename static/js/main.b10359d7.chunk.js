(this["webpackJsonpfood-frontend"]=this["webpackJsonpfood-frontend"]||[]).push([[0],{37:function(e,t,a){},59:function(e,t,a){e.exports=a(99)},99:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),o=(a(37),a(12)),u=a(13),i=a(16),m=a(15),s=a(7),d=a(9),E=Object(d.b)(),p=a(24),h=a(14),b=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs bg-blue"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{to:"/",exact:!0,className:"nav-link",activeStyle:{color:"red"}},"Dashboard"))))}}]),a}(n.Component),f=Object(h.b)((function(e){return{}}))(Object(s.f)(b)),v=a(100),y=a(101),g=a(102),O=a(103),N=a(104),j=a(105),I=a(106),C=a(54),S=a(108),k=a(109),w=a(110),_=a(111),T=a(112),x=a(18),D=a.n(x),P=a(23),L=a(53),R=a.n(L);a(47).config();var A=R.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/food-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).API_URL||"https://arcane-eyrie-87352.herokuapp.com/api/"});a(47).config();var q={baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/food-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PUBLIC_PATH||"https://arcane-eyrie-87352.herokuapp.com/upload/"},M=a(107),U=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(n.getCoordinates,n.handleLocation):alert("hi")},n.handleLocation=function(e){switch(e.code){case e.PERMISSION_DENIED:alert("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:alert("Location information is unavailable.");break;case e.TIMEOUT:alert("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:alert("An unknown error occurred.")}},n.getCoordinates=function(e){var t,a;e.coords.latitude,e.coords.longitude;n.props.dispatch((t=70.4645757,a=21.5134252,function(){var e=Object(P.a)(D.a.mark((function e(n){var r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/location?lng=".concat(t,"&lat=").concat(a));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var t=e.data;n.setState({data:t})}))},n.updateSearchQuery=function(e){n.setState({searchVal:e})},n.componentDidMount=function(){n.props.dispatch(function(){var e=Object(P.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/banquet");case 2:return(a=e.sent)&&t({type:"BANQUET",payload:a.data}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){var t=e.data;n.setState({rowData:t})})),n.getLocation()},n.state={data:[],latitude:"",searchVal:"",longtitude:"",rowData:[]},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=(this.state.data&&this.state.data.map((function(e){return e.banquetId}))).filter((function(t){return-1!==t.banName.toLowerCase().indexOf(e.state.searchVal.toLowerCase())}));return r.a.createElement(v.a,null,r.a.createElement(y.a,{sm:"12"},r.a.createElement(g.a,{className:"pt-1"},r.a.createElement(O.a,null,r.a.createElement(y.a,{sm:"12"},r.a.createElement(y.a,{sm:"12",md:{size:4,offset:4},style:{paddingTop:20}},r.a.createElement(N.a,null,r.a.createElement(j.a,{type:"text",id:"banquet",placeholder:"Search Banquet",onChange:function(t){return e.updateSearchQuery(t.target.value)},value:this.state.value}),r.a.createElement(I.a,{addonType:"append"},r.a.createElement(C.a,null,r.a.createElement(M.a,{size:"15"}))))),r.a.createElement(v.a,{className:"pt-4"},t&&t.length>0?t.map((function(e,t){return r.a.createElement(y.a,{lg:"4",sm:"12",key:t},r.a.createElement(g.a,{body:!0,outline:!0,style:{borderColor:"#333",cursor:"pointer"},className:"mt-4",onClick:function(){return E.push("/menu?banquetId=".concat(e._id))}},r.a.createElement(S.a,{className:"justify-content-between"},r.a.createElement("div",{className:"card-heading"},r.a.createElement(k.a,null,r.a.createElement("h6",null,r.a.createElement("strong",null,e.banName))),r.a.createElement(w.a,null,r.a.createElement(_.a,{href:e.locationLink},r.a.createElement(M.a,{size:"15"})," ","\xa0 Find Location")))),r.a.createElement(O.a,null,r.a.createElement(T.a,{variant:"bottom",src:q.baseURL+"/"+e.avtar}),r.a.createElement("hr",null),r.a.createElement("div",{className:"justify-content-between"},r.a.createElement("i",null,"Capacity:\xa0\xa0"),r.a.createElement("span",{className:"text-success"},e.capacity),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",null,"Location:\xa0\xa0"),r.a.createElement("span",{className:"text-secondary"},e.location),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",null,"Mobile:\xa0\xa0"),r.a.createElement("span",{className:"text-info"},e.mobile)))))})):"No such venue found near you!"))))))}}]),a}(r.a.Component),z=Object(h.b)((function(e){return{}}))(U),Q=a(21),V=a(118),B=a(119),K=a(113),W=a(114),H=a(122),F=a(120),G=a(121),J=a(117),X=a(115),Y=a(116),Z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInc=function(e,t){var a,r,l={productId:e._id,quantity:e.quantity,price:e.price};n.props.dispatch((a=e._id,r=l,function(){var e=Object(P.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.put("/edit/inc/product/".concat(a),r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var t=e.data;n.state.cart.map((function(e,a){if(e._id===t._id){n.state.cart.splice(a,1,t);var r=n.state.cart,l=r.reduce((function(e,t){return+e+ +t.price}),0);n.setState({total:l}),n.setState({cart:r})}}))}))},n.state={cart:n.props.addItem1,subTotal:0,total:0,updateData:[]},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state.cart.reduce((function(e,t){return+e+ +t.price}),0);return r.a.createElement(g.a,null,r.a.createElement(S.a,null,r.a.createElement(k.a,{tag:"h5"},"Orders")),r.a.createElement(O.a,null,r.a.createElement(K.a,{bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Add"))),this.state.cart.length>0?this.state.cart&&this.state.cart.map((function(t,a){return r.a.createElement("tbody",{key:a},r.a.createElement("tr",null,r.a.createElement("td",null,t.productName),r.a.createElement("td",null," ",t.price," \xa0 INR"),r.a.createElement("td",null," ",t.quantity),r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(W.a,{className:"mr-1",color:"primary",type:"submit"},r.a.createElement(X.a,{size:15})),r.a.createElement(W.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.handleInc(t,a)}},r.a.createElement(Y.a,{size:15}))))))})):"No Products Found")),r.a.createElement("div",{className:"invoice-total-table"},r.a.createElement(v.a,null,r.a.createElement(y.a,{sm:{size:6,offset:6}},r.a.createElement(K.a,{responsive:!0,borderless:!0},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"TOTAL"),r.a.createElement("td",null,this.state.total?this.state.total:t))))))))}}]),a}(r.a.Component),$=a(28),ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleItem=function(e){n.setState({extraPrice:e.price},(function(){var e=+n.state.addItem.price+ +n.state.extraPrice;n.setState({total:e})}));var t=e.itemName;n.setState({name:t})},n.handleClick=function(){var e=n.state.total?n.state.total:n.state.addItem.price,t=n.state.addItem.productName+" Extra Item: "+n.state.name,a=n.state.addItem.quantity,r=n.state.addItem._id;n.props.handleChild(e,t,a,r)},n.handleInput=function(e){e.persist(),n.setState((function(t){return{formData:Object(Q.a)(Object(Q.a)({},t.formData),{},Object($.a)({},e.target.name,e.target.value))}}))},n.handleFormSubmit=function(){},n.state={formData:{},extraPrice:0,total:0,name:"",addItem:n.props.addItem},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state.addItem,a=this.props.addExtraItem;return r.a.createElement(v.a,null,r.a.createElement(y.a,{sm:"12"},r.a.createElement(g.a,null,r.a.createElement(S.a,null,"Combo Items"),r.a.createElement(O.a,{className:"pt-2"},r.a.createElement(y.a,{sm:"12"},r.a.createElement(K.a,{size:"md",responsive:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t.productName),r.a.createElement("td",null,t.price,"\xa0 INR"),r.a.createElement("td",null,t.quantity))),r.a.createElement("thead",{className:"pt-4"},r.a.createElement("tr",null,r.a.createElement("th",null,"Item Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Pick One"))),a&&a.map((function(t,a){return r.a.createElement("tbody",{key:a},r.a.createElement("tr",null,r.a.createElement("td",null,t.itemName),r.a.createElement("td",null,t.price,"\xa0 INR"),r.a.createElement("td",null,r.a.createElement(j.a,{className:"ml-3",type:"radio",name:"radio",onChange:function(){return e.handleItem(t)}}))))}))))),r.a.createElement("div",{className:"invoice-total-table"},r.a.createElement(v.a,null,r.a.createElement(y.a,{sm:"12"},r.a.createElement(K.a,{responsive:!0,borderless:!0},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-right"},"Total")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(W.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.handleClick()}},"Add To Cart"),this.state.total?this.state.total:this.state.addItem.price)))))))))))}}]),a}(r.a.Component),te=Object(h.b)((function(e){return{}}))(ee),ae=(a(88),a(5),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.location.search.split("=")[1];n.props.dispatch(function(){var e=Object(P.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/bundle");case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){var a=t.data.filter((function(t){if(t.banquetId===e)return t;console.log("sorry")}));n.setState({rowData:a})}))},n.toggleModal=function(e){n.state.rowData&&n.state.rowData.map((function(e){return n.setState({item:e.ItemDetails})})),n.setState({comboItem:e}),n.setState((function(e){return{showLeadModal:!e.showLeadModal}}))},n.toggle=function(){n.setState((function(e){return{collapse:!e.collapse}}))},n.onEntered=function(){n.setState({status:"Opened"})},n.onEntering=function(){n.setState({status:"Opening..."})},n.onExited=function(){n.setState({status:"Closed"})},n.onExiting=function(){n.setState({status:"Closing..."})},n.addToCart=function(e){var t=n.state.arr;t.push(Object(Q.a)(Object(Q.a)({},e),{},{count:1})),n.setState({arr:t})},n.handleChild=function(e,t,a,r){var l={price:e,productName:t,quantity:a,_id:r},c=n.state.arr;c.push(Object(Q.a)(Object(Q.a)({},l),{},{count:1})),n.setState({arr:c}),n.toggleModal()},n.state={collapse:!1,status:"Opened",rowData:[],subTotal:0,comboItem:[],total:0,arr:[],data:[],item:[],showLeadModal:!1},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(v.a,null,r.a.createElement(y.a,{md:"6",sm:"12"},this.state.rowData&&this.state.rowData.map((function(t,a){return r.a.createElement(g.a,{style:{cursor:"pointer"},key:a},r.a.createElement(S.a,null,r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(k.a,{tag:"h2"},t.banName),r.a.createElement(J.a,{className:"collapse-icon",size:20,onClick:e.toggle})),r.a.createElement(V.a,{className:"d-sm-flex d-block"},r.a.createElement(V.a,{className:"mt-md-1 mt-0"},r.a.createElement(V.a,{className:"rounded mr-2",object:!0,src:q.baseURL+""+t.image,alt:"Generic placeholder image",height:"112",width:"112"})),r.a.createElement(V.a,{body:!0,className:"pt-3"},r.a.createElement("p",null,r.a.createElement("i",null,t.description))))),r.a.createElement(B.a,{isOpen:e.state.collapse,onExited:e.onExited,onEntered:e.onEntered,onExiting:e.onExiting,onEntering:e.onEntering},r.a.createElement(g.a,null,r.a.createElement(S.a,null,r.a.createElement(k.a,{tag:"h5"},"Paneer Items")),r.a.createElement(O.a,null,r.a.createElement(K.a,{size:"md",responsive:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Add To Cart"))),t.productDetails&&t.productDetails.map((function(t,a){if("Paneer Items"==t.categoryName)return r.a.createElement("tbody",{key:a},r.a.createElement("tr",null,r.a.createElement("td",null,t.productName),r.a.createElement("td",null,t.price,"\xa0 INR"),r.a.createElement("td",null,t.quantity),r.a.createElement("td",null,r.a.createElement(W.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.addToCart(t)}},"Add"))))}))))),r.a.createElement(g.a,null,r.a.createElement(S.a,null,r.a.createElement(k.a,{tag:"h5"},"Veg Items")),r.a.createElement(O.a,null,r.a.createElement(K.a,{size:"md",responsive:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Add To Cart"))),t.productDetails&&t.productDetails.map((function(t,a){if("Veg Items"==t.categoryName)return r.a.createElement("tbody",{key:a},r.a.createElement("tr",null,r.a.createElement("td",null,t.productName),r.a.createElement("td",null,t.price,"\xa0 INR"),r.a.createElement("td",null,t.quantity),r.a.createElement("td",null,r.a.createElement(W.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.addToCart(t)}},"Add"))))}))))),r.a.createElement(g.a,null,r.a.createElement(S.a,null,r.a.createElement(k.a,{tag:"h5"},"Combo Items")),r.a.createElement(O.a,null,r.a.createElement(K.a,{size:"md",responsive:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Add To Cart"))),t.productDetails&&t.productDetails.map((function(t,a){if("Combo Items"==t.categoryName)return r.a.createElement("tbody",{key:a},r.a.createElement("tr",null,r.a.createElement("td",null,t.productName),r.a.createElement("td",null,t.price,"\xa0 INR"),r.a.createElement("td",null,t.quantity),r.a.createElement("td",null,r.a.createElement(W.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.toggleModal(t)}},"Add"))))})))))),r.a.createElement(H.a,{isOpen:e.state.showLeadModal,toggle:e.toggleModal,className:"modal-dialog-centered modal-lg"},r.a.createElement(F.a,{toggle:e.toggleModal,className:"bg-primary"},"Choose Extra Items"),r.a.createElement(G.a,null,r.a.createElement(te,{toggleModal:e.toggleModal,addItem:e.state.comboItem,addExtraItem:e.state.item,handleChild:e.handleChild}))))}))),r.a.createElement(y.a,{md:"6",sm:"12"},r.a.createElement(Z,{addItem1:this.state.arr,dispatch:this.props.dispatch})))}}]),a}(r.a.Component)),ne=Object(h.b)((function(e){return{}}))(ae),re=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(s.b,{history:E},r.a.createElement(f,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:z}),r.a.createElement(s.a,{exact:!0,path:"/menu",component:ne}))))}}]),a}(n.Component),le=Object(h.b)((function(e){return{}}))(re);var ce=function(){return r.a.createElement(le,null)},oe=(a(96),a(17)),ue=a(55),ie=a.n(ue),me=a(56),se=a(29),de={banquets:[]},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BANQUET":return Object.assign({},e,{banquets:t.payload});default:return e}},pe=a(57),he={key:"jwt",storage:a.n(pe).a,whitelist:["auth"]},be=Object(oe.c)({globalReducer:Ee}),fe=Object(se.a)(he,be),ve=[me.a,ie()()],ye=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.d,ge=Object(oe.e)(fe,{},ye(oe.a.apply(void 0,ve))),Oe=Object(se.b)(ge),Ne=a(58);c.a.render(r.a.createElement(h.a,{store:ge},r.a.createElement(Ne.a,{persistor:Oe},r.a.createElement(p.a,null,r.a.createElement(ce,null)))),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.b10359d7.chunk.js.map