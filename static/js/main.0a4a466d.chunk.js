(this["webpackJsonpfood-frontend"]=this["webpackJsonpfood-frontend"]||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),o=(a(37),a(13)),u=a(14),i=a(17),s=a(16),m=a(7),d=a(10),p=Object(d.b)(),E=a(23),h=a(15),f=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs bg-blue"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.b,{to:"/",exact:!0,className:"nav-link",activeStyle:{color:"red"}},"Dashboard"))))}}]),a}(n.Component),b=Object(h.b)((function(e){return{}}))(Object(m.f)(f)),v=a(102),y=a(103),g=a(104),O=a(105),N=a(106),I=a(107),j=a(108),C=a(54),w=a(110),_=a(111),k=a(112),S=a(113),x=a(114),D=a(9),P=a.n(D),T=a(21),R=a(53),L=a.n(R);a(47).config();var A=L.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/food-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).API_URL||"https://arcane-eyrie-87352.herokuapp.com/api/"}),q=function(e){return function(){var t=Object(T.a)(P.a.mark((function t(a){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"EX_PRODUCT",payload:e}),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};a(47).config();var M={baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/food-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PUBLIC_PATH||"https://arcane-eyrie-87352.herokuapp.com/upload/"},U=a(109),z=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(n.getCoordinates,n.handleLocation):alert("hi")},n.handleLocation=function(e){switch(e.code){case e.PERMISSION_DENIED:alert("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:alert("Location information is unavailable.");break;case e.TIMEOUT:alert("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:alert("An unknown error occurred.")}},n.getCoordinates=function(e){var t,a;e.coords.latitude,e.coords.longitude;n.props.dispatch((t=70.4645757,a=21.5134252,function(){var e=Object(T.a)(P.a.mark((function e(n){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/location?lng=".concat(t,"&lat=").concat(a));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var t=e.data;n.setState({data:t})}))},n.updateSearchQuery=function(e){n.setState({searchVal:e})},n.componentDidMount=function(){n.props.dispatch(function(){var e=Object(T.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/banquet");case 2:return(a=e.sent)&&t({type:"BANQUET",payload:a.data}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){var t=e.data;n.setState({rowData:t})})),n.getLocation()},n.state={data:[],latitude:"",searchVal:"",longtitude:"",rowData:[]},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=(this.state.data&&this.state.data.map((function(e){return e.banquetId}))).filter((function(t){return-1!==t.banName.toLowerCase().indexOf(e.state.searchVal.toLowerCase())}));return r.a.createElement(v.a,null,r.a.createElement(y.a,{sm:"12"},r.a.createElement(g.a,{className:"pt-1"},r.a.createElement(O.a,null,r.a.createElement(y.a,{sm:"12"},r.a.createElement(y.a,{sm:"12",md:{size:4,offset:4},style:{paddingTop:20}},r.a.createElement(N.a,null,r.a.createElement(I.a,{type:"text",id:"banquet",placeholder:"Search Banquet",onChange:function(t){return e.updateSearchQuery(t.target.value)},value:this.state.value}),r.a.createElement(j.a,{addonType:"append"},r.a.createElement(C.a,null,r.a.createElement(U.a,{size:"15"}))))),r.a.createElement(v.a,{className:"pt-4"},t&&t.length>0?t.map((function(e,t){return r.a.createElement(y.a,{lg:"4",sm:"12",key:t},r.a.createElement(g.a,{body:!0,outline:!0,style:{borderColor:"#333",cursor:"pointer"},className:"mt-4",onClick:function(){return p.push("/menu?banquetId=".concat(e._id))}},r.a.createElement(w.a,{className:"justify-content-between"},r.a.createElement("div",{className:"card-heading"},r.a.createElement(_.a,null,r.a.createElement("h6",null,r.a.createElement("strong",null,e.banName))),r.a.createElement(k.a,null,r.a.createElement(S.a,{href:e.locationLink},r.a.createElement(U.a,{size:"15"})," ","\xa0 Find Location")))),r.a.createElement(O.a,null,r.a.createElement(x.a,{variant:"bottom",src:M.baseURL+"/"+e.avtar}),r.a.createElement("hr",null),r.a.createElement("div",{className:"justify-content-between"},r.a.createElement("i",null,"Capacity:\xa0\xa0"),r.a.createElement("span",{className:"text-success"},e.capacity),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",null,"Location:\xa0\xa0"),r.a.createElement("span",{className:"text-secondary"},e.location),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",null,"Mobile:\xa0\xa0"),r.a.createElement("span",{className:"text-info"},e.mobile)))))})):"No such venue found near you!"))))))}}]),a}(r.a.Component),Q=Object(h.b)((function(e){return{}}))(z),V=a(25),B=a(121),K=a(122),W=a(115),H=a(116),X=a(125),F=a(123),G=a(124),J=a(120),Y=a(117),Z=a(118),$=a(119),ee=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInc=function(e,t){var a,r,l={productId:e._id,quantity:e.quantity,price:e.price};n.props.dispatch((a=e._id,r=l,function(){var e=Object(T.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.put("/edit/inc/product/".concat(a),r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var t=e.data;n.state.cart.map((function(e,a){if(e._id===t._id){n.state.cart.splice(a,1,t);var r=n.state.cart,l=r.reduce((function(e,t){return+e+ +t.price}),0);n.setState({total:l}),n.setState({cart:r})}}))}))},n.handleDec=function(e){n.setState((function(t){return{price:e.price,prevPrice:t.price}}),(function(){var t,a,r={productId:e._id,quantity:e.quantity,price:n.state.price};n.props.dispatch((t=e._id,a=r,function(){var e=Object(T.a)(P.a.mark((function e(n){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.put("/edit/dec/product/".concat(t),a);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var t=e.data;t.price=n.state.prevPrice,n.state.cart.map((function(e,a){if(e._id===t._id){n.state.cart.splice(a,1,t);var r=n.state.cart,l=r.reduce((function(e,t){return+e+ +t.price}),0);n.setState({total:l}),n.setState({cart:r})}}))}))}))},n.handleDel=function(e){var t;n.props.dispatch((t=e,function(){var e=Object(T.a)(P.a.mark((function e(a){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a({type:"DEL_PAR_ITEM",payload:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),window.location.reload()},n.handleRemove=function(){n.props.removeItem()},n.state={cart:n.props.addItem1,prevPrice:0,price:0,total:0,updateData:[]},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state.cart,a=t&&t.reduce((function(e,t){return+e+ +t.price}),0);return r.a.createElement(g.a,null,r.a.createElement(w.a,null,r.a.createElement(_.a,{tag:"h5"},"Orders")),r.a.createElement(O.a,null,r.a.createElement(W.a,{bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Remove"),r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Add"))),this.state.cart.length>0?this.state.cart&&this.state.cart.map((function(t,a){return r.a.createElement("tbody",{key:a},r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex justify-content-start"},r.a.createElement(H.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(a){return e.handleDel(t)}},r.a.createElement(Y.a,{size:15})))),r.a.createElement("td",null,t.productName),r.a.createElement("td",null," ",t.price," \xa0 INR"),r.a.createElement("td",null," ",t.quantity),r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(H.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.handleDec(t)}},r.a.createElement(Z.a,{size:15})),r.a.createElement(H.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.handleInc(t,a)}},r.a.createElement($.a,{size:15}))))))})):"No Products Found")),r.a.createElement("div",{className:"invoice-total-table"},r.a.createElement(v.a,null,r.a.createElement(y.a,{sm:"12"},r.a.createElement(W.a,{responsive:!0,borderless:!0},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-right"},"Total")),r.a.createElement("tr",null,r.a.createElement("td",{className:"text-right"}," ",this.state.total?this.state.total:a)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(H.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.handleRemove()}},"Remove All"),r.a.createElement(H.a,{className:"mr-1",color:"primary",type:"submit"},"Place Order"))))))))))}}]),a}(r.a.Component),te=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleItem=function(e){n.setState({extraPrice:e.price},(function(){var e=+n.state.addItem.price+ +n.state.extraPrice;n.setState({total:e})}));var t=e.itemName;n.setState({name:t})},n.handleClick=function(){var e=n.state.total?n.state.total:n.state.addItem.price,t=n.state.addItem.productName+" Extra Item: "+n.state.name,a=n.state.addItem.quantity,r=n.state.addItem._id;n.props.handleChild(e,t,a,r)},n.state={formData:{},extraPrice:0,total:0,name:"",addItem:n.props.addItem},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state.addItem,a=this.props.addExtraItem;return r.a.createElement(v.a,null,r.a.createElement(y.a,{sm:"12"},r.a.createElement(g.a,null,r.a.createElement(w.a,null,"Combo Items"),r.a.createElement(O.a,{className:"pt-2"},r.a.createElement(y.a,{sm:"12"},r.a.createElement(W.a,{size:"md",responsive:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t.productName),r.a.createElement("td",null,t.price,"\xa0 INR"),r.a.createElement("td",null,t.quantity))),r.a.createElement("thead",{className:"pt-4"},r.a.createElement("tr",null,r.a.createElement("th",null,"Item Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Pick One"))),a&&a.map((function(t,a){return r.a.createElement("tbody",{key:a},r.a.createElement("tr",null,r.a.createElement("td",null,t.itemName),r.a.createElement("td",null,t.price,"\xa0 INR"),r.a.createElement("td",null,r.a.createElement(I.a,{className:"ml-3",type:"radio",name:"radio",onChange:function(){return e.handleItem(t)}}))))}))))),r.a.createElement("div",{className:"invoice-total-table"},r.a.createElement(v.a,null,r.a.createElement(y.a,{sm:"12"},r.a.createElement(W.a,{responsive:!0,borderless:!0},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-right"},"Total")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(H.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.handleClick()}},"Add To Cart"),this.state.total?this.state.total:this.state.addItem.price)))))))))))}}]),a}(r.a.Component),ae=Object(h.b)((function(e){return{}}))(te),ne=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.location.search.split("=")[1];n.props.dispatch(function(){var e=Object(T.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/bundle");case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){var a=t.data.filter((function(t){if(t.banquetId===e)return t;console.log("sorry")}));n.setState({rowData:a})}))},n.toggleModal=function(e){n.state.rowData&&n.state.rowData.map((function(e){return n.setState({item:e.ItemDetails})})),n.setState({comboItem:e}),n.setState((function(e){return{showLeadModal:!e.showLeadModal}}))},n.toggle=function(){n.setState((function(e){return{collapse:!e.collapse}}))},n.onEntered=function(){n.setState({status:"Opened"})},n.onEntering=function(){n.setState({status:"Opening..."})},n.onExited=function(){n.setState({status:"Closed"})},n.onExiting=function(){n.setState({status:"Closing..."})},n.addToCart=function(e){var t=n.state.arr;t.push(Object(V.a)(Object(V.a)({},e),{},{count:1})),n.props.dispatch(q(t)),n.setState({arr:t})},n.handleRemove=function(){n.props.dispatch(function(){var e=Object(T.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:"DEL_ITEM"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.location.reload()},n.handleChild=function(e,t,a,r){var l={price:e,productName:t,quantity:a,_id:r},c=n.state.arr;c.push(Object(V.a)(Object(V.a)({},l),{},{count:1})),n.props.dispatch(q(c)),n.setState({arr:c}),n.toggleModal()},n.state={collapse:!1,status:"Opened",rowData:[],subTotal:0,comboItem:[],total:0,arr:n.props.data1,data:[],item:[],showLeadModal:!1},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(v.a,null,r.a.createElement(y.a,{md:"6",sm:"12"},this.state.rowData&&this.state.rowData.map((function(t,a){return r.a.createElement(g.a,{style:{cursor:"pointer"},key:a},r.a.createElement(w.a,null,r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(_.a,{tag:"h2"},t.banName),r.a.createElement(J.a,{className:"collapse-icon",size:20,onClick:e.toggle})),r.a.createElement(B.a,{className:"d-sm-flex d-block"},r.a.createElement(B.a,{className:"mt-md-1 mt-0"},r.a.createElement(B.a,{className:"rounded mr-2",object:!0,src:M.baseURL+""+t.image,alt:"Generic placeholder image",height:"112",width:"112"})),r.a.createElement(B.a,{body:!0,className:"pt-3"},r.a.createElement("p",null,r.a.createElement("i",null,t.description))))),r.a.createElement(K.a,{isOpen:e.state.collapse,onExited:e.onExited,onEntered:e.onEntered,onExiting:e.onExiting,onEntering:e.onEntering},r.a.createElement(g.a,null,r.a.createElement(w.a,null,r.a.createElement(_.a,{tag:"h5"},"Paneer Items")),r.a.createElement(O.a,null,r.a.createElement(W.a,{size:"md",responsive:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Add To Cart"))),t.productDetails&&t.productDetails.map((function(t,a){if("Paneer Items"==t.categoryName)return r.a.createElement("tbody",{key:a},r.a.createElement("tr",null,r.a.createElement("td",null,t.productName),r.a.createElement("td",null,t.price,"\xa0 INR"),r.a.createElement("td",null,t.quantity),r.a.createElement("td",null,r.a.createElement(H.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.addToCart(t)}},"Add"))))}))))),r.a.createElement(g.a,null,r.a.createElement(w.a,null,r.a.createElement(_.a,{tag:"h5"},"Veg Items")),r.a.createElement(O.a,null,r.a.createElement(W.a,{size:"md",responsive:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Add To Cart"))),t.productDetails&&t.productDetails.map((function(t,a){if("Veg Items"==t.categoryName)return r.a.createElement("tbody",{key:a},r.a.createElement("tr",null,r.a.createElement("td",null,t.productName),r.a.createElement("td",null,t.price,"\xa0 INR"),r.a.createElement("td",null,t.quantity),r.a.createElement("td",null,r.a.createElement(H.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.addToCart(t)}},"Add"))))}))))),r.a.createElement(g.a,null,r.a.createElement(w.a,null,r.a.createElement(_.a,{tag:"h5"},"Combo Items")),r.a.createElement(O.a,null,r.a.createElement(W.a,{size:"md",responsive:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Add To Cart"))),t.productDetails&&t.productDetails.map((function(t,a){if("Combo Items"==t.categoryName)return r.a.createElement("tbody",{key:a},r.a.createElement("tr",null,r.a.createElement("td",null,t.productName),r.a.createElement("td",null,t.price,"\xa0 INR"),r.a.createElement("td",null,t.quantity),r.a.createElement("td",null,r.a.createElement(H.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.toggleModal(t)}},"Add"))))})))))),r.a.createElement(X.a,{isOpen:e.state.showLeadModal,toggle:e.toggleModal,className:"modal-dialog-centered modal-lg"},r.a.createElement(F.a,{toggle:e.toggleModal,className:"bg-primary"},"Choose Extra Items"),r.a.createElement(G.a,null,r.a.createElement(ae,{toggleModal:e.toggleModal,addItem:e.state.comboItem,addExtraItem:e.state.item,handleChild:e.handleChild}))))}))),r.a.createElement(y.a,{md:"6",sm:"12"},r.a.createElement(ee,{addItem1:this.state.arr,dispatch:this.props.dispatch,removeItem:this.handleRemove})))}}]),a}(r.a.Component),re=Object(h.b)((function(e){return{data1:e.globalReducer.data}}))(ne),le=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m.b,{history:p},r.a.createElement(b,null),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:Q}),r.a.createElement(m.a,{exact:!0,path:"/menu",component:re}))))}}]),a}(n.Component),ce=Object(h.b)((function(e){return{}}))(le);var oe=function(){return r.a.createElement(ce,null)},ue=(a(95),a(18)),ie=a(55),se=a.n(ie),me=a(56),de=a(27),pe=a(59),Ee=(a(96),{banquets:[],data:[]}),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BANQUET":return Object.assign({},e,{banquets:t.payload});case"EX_PRODUCT":return Object.assign({},e,{data:t.payload});case"DEL_ITEM":return{data:[]};case"DEL_PAR_ITEM":return{data:Object(pe.a)(e.data.filter((function(e){return e!==t.payload})))};default:return e}},fe=a(57),be={key:"jwt",storage:a.n(fe).a,whitelist:["globalReducer"]},ve=Object(ue.c)({globalReducer:he}),ye=Object(de.a)(be,ve),ge=[me.a,se()()],Oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ue.d,Ne=Object(ue.e)(ye,{},Oe(ue.a.apply(void 0,ge))),Ie=Object(de.b)(Ne),je=a(58);c.a.render(r.a.createElement(h.a,{store:Ne},r.a.createElement(je.a,{persistor:Ie},r.a.createElement(E.a,null,r.a.createElement(oe,null)))),document.getElementById("root"))},37:function(e,t,a){},60:function(e,t,a){e.exports=a(101)}},[[60,1,2]]]);
//# sourceMappingURL=main.0a4a466d.chunk.js.map